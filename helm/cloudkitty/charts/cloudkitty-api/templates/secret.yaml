{{- if .Values.secret.enabled -}}
apiVersion: v1
kind: Secret
metadata:
  name: {{ .Values.secret.name }}
  namespace: {{ .Release.Namespace }}
type: Opaque
data:
  HOST_RABBIT: {{ .Values.config.credentials.amqp.host | default "cloudkitty" | b64enc }}
  USER_RABBIT: {{ .Values.config.credentials.amqp.user | default "cloudkitty" | b64enc }}
  PASSWORD_RABBIT: {{ .Values.config.credentials.amqp.password | default "cloudkitty" | b64enc }}
  HOST_DB: {{ .Values.config.credentials.sql.host | default "cloudkitty" | b64enc }}
  USER_DB: {{ .Values.config.credentials.sql.user | default "cloudkitty" | b64enc }}
  PASSWORD_DB: {{ .Values.config.credentials.sql.password | default "cloudkitty" | b64enc }}
  DATABASE_DB: {{ .Values.config.credentials.sql.database | default "cloudkitty" | b64enc }}
  HOST_BACKEND: {{ .Values.config.credentials.timeseries.host | default "cloudkitty" | b64enc }}
  USER_BACKEND: {{ .Values.config.credentials.timeseries.user | default "cloudkitty" | b64enc }}
  PASSWORD_BACKEND: {{ .Values.config.credentials.timeseries.password | default "cloudkitty" | b64enc }}
{{- end }}